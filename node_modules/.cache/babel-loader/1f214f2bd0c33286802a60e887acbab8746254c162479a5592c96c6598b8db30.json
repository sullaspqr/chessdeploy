{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ChessMod=()=>{const params=useParams();const id=params.chessId;const navigate=useNavigate();const[chess,setChess]=useState({name:'',birth_date:'',world_ch_won:0,profile_url:'',image_url:''});useEffect(()=>{const fetchChess=async()=>{try{const valasz=await axios.get(\"https://chess.sulla.hu/chess/\"+id);setChess(valasz.data);}catch(error){console.log(\"Hiba a lekérdezésben: \",error);}};fetchChess();},[id]);const handleInputChange=event=>{const{name,value}=event.target;setChess(prevState=>({...prevState,[name]:value}));};const handleSubmit=event=>{event.preventDefault();fetch(`https://chess.sulla.hu/chess/${id}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(chess)// a chess objektumot JSON formátumba alakítjuk\n}).then(response=>{if(!response.ok){throw new Error('Hiba történt a kérés feldolgozása közben');}return response.json();// ha a válasz sikeres, JSON-ra alakítjuk\n}).then(()=>{navigate(\"/\");// ha a kérés sikeres, navigálunk\n}).catch(error=>{console.log(\"hiba:\",error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"p-5 m-auto text-center content bg-lavender\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Egy sakkoz\\xF3 m\\xF3dos\\xEDt\\xE1sa\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card col-sm3 m-1 p-2\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row pb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Sakkoz\\xF3 neve:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-control\",defaultValue:chess.name,onChange:handleInputChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row pb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Sz\\xFClet\\xE9si d\\xE1tum:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birth_date\",className:\"form-control\",defaultValue:chess.birth_date,onChange:handleInputChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row pb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Nyert vil\\xE1gbajnoks\\xE1gok:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"world_ch_won\",className:\"form-control\",value:chess.world_ch_won,onChange:handleInputChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row pb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Profil URL:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"profile_url\",className:\"form-control\",defaultValue:chess.profile_url,onChange:handleInputChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row pb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"K\\xE9p URL:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-9\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image_url\",className:\"form-control\",defaultValue:chess.image_url,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"img\",{src:chess.image_url,height:\"200px\",alt:chess.name,className:\"justify-content-center\"})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"bi bi-backspace-fill fs-5 btn btn-danger\",children:\" Vissza\"}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bi bi-send btn btn-success fs-5\",children:\" K\\xFCld\\xE9s\"})]}),/*#__PURE__*/_jsx(\"div\",{})]})]})});};","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","axios","jsx","_jsx","jsxs","_jsxs","ChessMod","params","id","chessId","navigate","chess","setChess","name","birth_date","world_ch_won","profile_url","image_url","fetchChess","valasz","get","data","error","console","log","handleInputChange","event","value","target","prevState","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","json","catch","className","children","onSubmit","type","defaultValue","onChange","src","height","alt","to"],"sources":["C:/Users/nemethb.HAQT00R-LAPTOP/Documents/2425-2-14C-1-csop/sakk/src/ChessMod.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport const ChessMod = () => {\r\n    const params = useParams();\r\n    const id = params.chessId;\r\n    const navigate = useNavigate();\r\n    const [chess, setChess] = useState({\r\n        name: '',\r\n        birth_date: '',\r\n        world_ch_won: 0,\r\n        profile_url: '',\r\n        image_url: ''\r\n});\r\n\r\n    useEffect(() => {\r\n        const fetchChess = async () => {\r\n            try { \r\n                const valasz = await axios.get(\"https://chess.sulla.hu/chess/\" + id);\r\n                setChess(valasz.data);\r\n            }\r\n            catch (error) {\r\n                console.log(\"Hiba a lekérdezésben: \", error);\r\n            }\r\n        }   \r\n        fetchChess();\r\n    }, [id]);\r\n\r\nconst handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    setChess(prevState => ({\r\n        ...prevState,\r\n        [name]: value\r\n    }));\r\n};\r\n\r\nconst handleSubmit = event =>{\r\n    event.preventDefault();\r\n    fetch(`https://chess.sulla.hu/chess/${id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(chess), // a chess objektumot JSON formátumba alakítjuk\r\n  })\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error('Hiba történt a kérés feldolgozása közben');\r\n      }\r\n      return response.json(); // ha a válasz sikeres, JSON-ra alakítjuk\r\n    })\r\n    .then(() => {\r\n      navigate(\"/\"); // ha a kérés sikeres, navigálunk\r\n    })\r\n    .catch(error => {\r\n      console.log(\"hiba:\", error);\r\n    });\r\n  };\r\nreturn (\r\n    <div className=\"p-5 m-auto text-center content bg-lavender\">\r\n            <div>\r\n                <h2>Egy sakkozó módosítása</h2>\r\n                    <div className=\"card col-sm3 m-1 p-2\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <div className=\"form-group row pb-3\">\r\n                                <label className=\"col-sm-3 col-form-label\">Sakkozó neve:</label>\r\n                                <div className=\"col-sm-9\">\r\n                                    <input type=\"text\" name=\"name\" className=\"form-control\" defaultValue={chess.name} onChange={handleInputChange} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row pb-3\">\r\n                                <label className=\"col-sm-3 col-form-label\">Születési dátum:</label>\r\n                                <div className=\"col-sm-9\">\r\n                                    <input type=\"date\" name=\"birth_date\" className=\"form-control\" defaultValue={chess.birth_date} onChange={handleInputChange} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row pb-3\">\r\n                                <label className=\"col-sm-3 col-form-label\">Nyert világbajnokságok:</label>\r\n                                <div className=\"col-sm-9\">\r\n                                    <input type=\"number\" name=\"world_ch_won\" className=\"form-control\" value={chess.world_ch_won} onChange={handleInputChange} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row pb-3\">\r\n                                <label className=\"col-sm-3 col-form-label\">Profil URL:</label>\r\n                                <div className=\"col-sm-9\">\r\n                                    <input type=\"text\" name=\"profile_url\" className=\"form-control\" defaultValue={chess.profile_url} onChange={handleInputChange} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group row pb-3\">\r\n                                <label className=\"col-sm-3 col-form-label\">Kép URL:</label>\r\n                                <div className=\"col-sm-9\">\r\n                                    <input type=\"text\" name=\"image_url\" className=\"form-control\" defaultValue={chess.image_url} onChange={handleInputChange} />\r\n                                    <img src={chess.image_url} height=\"200px\" alt={chess.name} className=\"justify-content-center\" />\r\n                                </div>\r\n                            </div>\r\n                            <Link to=\"/\" className=\"bi bi-backspace-fill fs-5 btn btn-danger\"> Vissza</Link>&nbsp;&nbsp;&nbsp;\r\n                            <button type=\"submit\" className=\"bi bi-send btn btn-success fs-5\"> Küldés</button>\r\n                        </form>\r\n                        <div></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}